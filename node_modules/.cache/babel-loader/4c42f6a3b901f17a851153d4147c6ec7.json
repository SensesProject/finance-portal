{"remainingRequest":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/policy-portal/src/components/Item.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/policy-portal/src/components/Item.vue","mtime":1581339404358},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9mcmFuY2VzY2Ftb3JpbmkvcHJvamVjdHMvcG9saWN5LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIml0ZW0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvZmZzZXRUb3A6IDAsCiAgICAgIGhlaWdodDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHJhdGlvOiBmdW5jdGlvbiByYXRpbygpIHsKICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHRoaXMuc2Nyb2xsWSAtIHRoaXMub2Zmc2V0VG9wLCAwKSwgdGhpcy5oZWlnaHQpIC8gdGhpcy5oZWlnaHQgKiAxLjUsIDEpOwogICAgfQogIH0sIG1hcFN0YXRlKFsic2Nyb2xsWSIsICJzY3JlZW5IZWlnaHQiXSkpLAogIG1ldGhvZHM6IHsKICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KCkgewogICAgICB0aGlzLm9mZnNldFRvcCA9IHRoaXMuJGVsLm9mZnNldFRvcDsKICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcmF0aW86IGZ1bmN0aW9uIHJhdGlvKF9yYXRpbykgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUG9ydGFsUGF0aCAhPT0gdGhpcy5kYXRhLnBhdGgpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQb3J0YWxQYXRoID0gdGhpcy5kYXRhLnBhdGg7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBzZXRUaW1lb3V0KHRoaXMucmVmbG93LCAxKTsKICB9LAogIHByb3BzOiBbImRhdGEiLCAic2ltcGxlIl0KfTs="},{"version":3,"sources":["Item.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAUA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AAAA,MAAA,SAAA,EAAA,CAAA;AAAA,MAAA,MAAA,EAAA;AAAA,KAAA;AACA,GAJA;AAKA,EAAA,QAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AACA,aAAA,IAAA,CAAA,GAAA,CACA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CAAA,KAAA,OAAA,GAAA,KAAA,SAAA,EAAA,CAAA,CAAA,EAAA,KAAA,MAAA,IACA,KAAA,MADA,GAEA,GAHA,EAIA,CAJA,CAAA;AAMA;AARA,KASA,QAAA,CAAA,CAAA,SAAA,EAAA,cAAA,CAAA,CATA,CALA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,WAAA,SAAA,GAAA,KAAA,GAAA,CAAA,SAAA;AACA,WAAA,MAAA,GAAA,KAAA,GAAA,CAAA,qBAAA,GAAA,MAAA;AACA;AAJA,GAhBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA,eAAA,MAAA,EAAA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,gBAAA,KAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,gBAAA,GAAA,KAAA,IAAA,CAAA,IAAA;AACA;AACA;AALA,GAtBA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,IAAA,UAAA,CAAA,KAAA,MAAA,EAAA,CAAA,CAAA;AACA,GA/BA;AAgCA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,QAAA;AAhCA,CAAA","sourcesContent":["<template>\n  <div class=\"item\" :class=\"{scroller: !data.simple}\">\n    <figure>\n      <slot name=\"figure\" :ratio=\"ratio\" :data=\"data\"></slot>\n    </figure>\n    <article></article>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"item\",\n  data() {\n    return { offsetTop: 0, height: 0 };\n  },\n  computed: {\n    ratio: function() {\n      return Math.min(\n        (Math.min(Math.max(this.scrollY - this.offsetTop, 0), this.height) /\n          this.height) *\n          1.5,\n        1\n      );\n    },\n    ...mapState([\"scrollY\", \"screenHeight\"])\n  },\n  methods: {\n    reflow: function() {\n      this.offsetTop = this.$el.offsetTop;\n      this.height = this.$el.getBoundingClientRect().height;\n    }\n  },\n  watch: {\n    ratio: function(ratio) {\n      if (this.$store.state.activePortalPath !== this.data.path) {\n        this.$store.state.activePortalPath = this.data.path;\n      }\n    }\n  },\n  mounted() {\n    setTimeout(this.reflow, 1);\n  },\n  props: [\"data\", \"simple\"]\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.item {\n  figure {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n  }\n}\n\n.scroller {\n  figure {\n    position: sticky;\n    left: 0;\n    width: 100%;\n    margin: 0;\n    transform: translate3d(0, 0, 0);\n    /* background-color: #8a8a8a; */\n    z-index: 0;\n    height: calc(100vh);\n    top: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  article {\n    position: relative;\n    padding: 0;\n    width: 10px;\n    height: 200vh;\n    margin: 0 auto;\n    top: -90vh;\n    // background: #7fffd43d;\n    pointer-events: none;\n  }\n\n  .step {\n    margin: 0 auto 2rem auto;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}