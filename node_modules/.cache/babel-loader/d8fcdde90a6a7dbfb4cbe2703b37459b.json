{"remainingRequest":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/policy-portal/node_modules/library/src/components/SensesDownload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/policy-portal/node_modules/library/src/components/SensesDownload.vue","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2ZyYW5jZXNjYW1vcmluaS9wcm9qZWN0cy9wb2xpY3ktcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBnZXQsIG1hcCwgaW5jbHVkZXMsIGhlYWQsIGZpbmQgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVk1vZGFsIGZyb20gJ3Z1ZS1qcy1tb2RhbCc7CmltcG9ydCBTZW5zZXNDb3B5IGZyb20gJy4vU2Vuc2VzQ29weS52dWUnOwpWdWUudXNlKFZNb2RhbCk7IC8vIEZ1bmN0aW9uIHRvIG1ha2Ugc2VudGVuY2UgZnJvbSBhdXRob3IgYXJyYXkKCnZhciBjaGFpbiA9IGZ1bmN0aW9uIGNoYWluKGEpIHsKICByZXR1cm4gW2Euc2xpY2UoMCwgLTEpLmpvaW4oJywgJyksIGEuc2xpY2UoLTEpWzBdXS5qb2luKGEubGVuZ3RoIDwgMiA/ICcnIDogJyBhbmQgJyk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NlbnNlc0Rvd25sb2FkJywKICBjb21wb25lbnRzOiB7CiAgICBTZW5zZXNDb3B5OiBTZW5zZXNDb3B5CiAgfSwKICBwcm9wczogewogICAgc2VsZWN0ZWQ6IHsKICAgICAgLy8gVGhlIGlkIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZG93bmxvYWQuIFRoaXMgd2lsbCBiZSBjaGVja2VkIGFnYWluCiAgICAgIHR5cGU6IFtOdW1iZXIsIEJvb2xlYW5dLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgZG9jczogJ1RoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZG93bmxvYWQgaWQnCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnVW50aXRsZWQgbW9kdWxlJywKICAgICAgZG9jczogJ1RpdGxlIG9mIHRoZSBtb2R1bGUnCiAgICB9LAogICAgY2xvc2U6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30sCiAgICAgIGRvY3M6ICdGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBvbmNlIHRoZSB3aW5kb3cgY2xvc2VzJwogICAgfSwKICAgIGlkczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgICBkb2NzOiAnTGlzdCBvZiBpZHMgb2YgZG93bmxvYWRzIGZvciB0aGlzIG1vZHVsZScKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkb3dubG9hZHM6IFtdLAogICAgICAvLyBBIGxpc3Qgb2YgZG93bmxvYWRzIGZldGNoZWQgZnJvbSBleHRlcm5hbCBKU09OIGZpbGUKICAgICAgYWN0aXZlSUQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGF2YWlsYWJsZUlEUzogZnVuY3Rpb24gYXZhaWxhYmxlSURTKCkgewogICAgICAvLyBHZXQgYSBsaXN0IG9mIGF2YWlsYWJsZSBkb3dubG9hZCBpZHMKICAgICAgcmV0dXJuIG1hcCh0aGlzLmRvd25sb2FkcywgJ2lkJyk7CiAgICB9LAogICAgaXRlbTogZnVuY3Rpb24gaXRlbSgpIHsKICAgICAgLy8gRmluZCB0aGUgZG93bmxvYWQgaXRlbSBpbiB0aGUgbGlzdCBvZiBkb3dubG9hZHMgZnJvbSB0aGUgaWQKICAgICAgcmV0dXJuIGZpbmQodGhpcy5kb3dubG9hZHMsIHsKICAgICAgICBpZDogdGhpcy5hY3RpdmVJRAogICAgICB9KTsKICAgIH0sCiAgICBhdXRob3I6IGZ1bmN0aW9uIGF1dGhvcigpIHsKICAgICAgLy8gRXh0cmFjdCB0aGUgYXV0aG9ycyBmb3IgdGhpcyBkb3dubG9hZAogICAgICByZXR1cm4gY2hhaW4oZ2V0KHRoaXMuaXRlbSwgJ2F1dGhvcnMnLCBbXSkpOwogICAgfSwKICAgIHJlZmVyZW5jZTogZnVuY3Rpb24gcmVmZXJlbmNlKCkgewogICAgICAvLyBFeHRyYWN0IHRoZSByZWZlcmVuY2UgZm9yIHRoaXMgZG93bmxvYWQKICAgICAgcmV0dXJuIGdldCh0aGlzLml0ZW0sICdyZWZlcmVuY2UnKTsKICAgIH0sCiAgICBkb3dubG9hZEVsZW1lbnRzOiBmdW5jdGlvbiBkb3dubG9hZEVsZW1lbnRzKCkgewogICAgICAvLyBDcmVhdGUgYSBsaXN0IG9mIGRvd25sb2FkIGl0ZW1zIGZvciB0aGlzIG1vZHVsZQogICAgICB2YXIgaWRzID0gdGhpcy5pZHMsCiAgICAgICAgICBhY3RpdmVJRCA9IHRoaXMuYWN0aXZlSUQsCiAgICAgICAgICBkb3dubG9hZHMgPSB0aGlzLmRvd25sb2FkczsKCiAgICAgIGlmIChpZHMgJiYgaWRzLmxlbmd0aCkgewogICAgICAgIHJldHVybiBtYXAoaWRzLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgIHZhciBpdGVtID0gZmluZChkb3dubG9hZHMsIHsKICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBsYWJlbCA9IGdldChpdGVtLCAnbGFiZWwnLCAndW5uYW1lZCBpdGVtJyk7CiAgICAgICAgICB2YXIgaXNBY3RpdmUgPSBpZCA9PT0gYWN0aXZlSUQ7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgfSwgaXRlbSwgewogICAgICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQodikgewogICAgICBpZiAodikgewogICAgICAgIHRoaXMuc2V0QWN0aXZlKHYpOwogICAgICAgIHRoaXMuJG1vZGFsLnNob3coJ2Rvd25sb2FkJyk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBMb2FkIHRoZSBsaXN0IG9mIGRvd25sb2FkcwogICAgdGhpcy5sb2FkRG93bmxvYWRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZWQ6IGZ1bmN0aW9uIGNsb3NlZCgpIHsKICAgICAgLy8gVHJpZ2dlcmVkIHdoZW4gdGhlIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkIG9yIHRoZSBvdXRlciBhcmVhCiAgICAgIHRoaXMuJG1vZGFsLmhpZGUoJ2Rvd25sb2FkJyk7CiAgICAgIHRoaXMuYWN0aXZlSUQgPSBmYWxzZTsgLy8gRXhjZXV0ZSB0aGUgZnVuY3Rpb24gcGFzc2VkIHRvIHRoZSBjb21wb25lbnQKCiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZSh2KSB7CiAgICAgIGlmICh2KSB7CiAgICAgICAgaWYgKGluY2x1ZGVzKHRoaXMuYXZhaWxhYmxlSURTLCB2KSkgewogICAgICAgICAgLy8gVGhlIGlkIGlzIHByZXNlbnQgaW4gdGhlIGxpc3Qgb2YgZG93bmxvYWRzCiAgICAgICAgICB0aGlzLmFjdGl2ZUlEID0gdjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaWRzLmxlbmd0aCkgewogICAgICAgICAgLy8gVGhlIG1vZHVsZSBoYXMgYSBsaXN0IG9mIGRvd25sb2FkcwogICAgICAgICAgdmFyIGZpcnN0ID0gaGVhZCh0aGlzLmlkcyk7IC8vIEdldCB0aGUgZmlyc3QgaW4gdGhlIGxpc3QKCiAgICAgICAgICBpZiAoaW5jbHVkZXModGhpcy5hdmFpbGFibGVJRFMsIGZpcnN0KSkgewogICAgICAgICAgICAvLyBDaGVjayBhZ2FpbiBpZiBpZCBwcmVzZW50CiAgICAgICAgICAgIHRoaXMuYWN0aXZlSUQgPSBmaXJzdDsgLy8gU2VsZWN0IHRoZSBmaXJzdCBvbmUKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlSUQgPSBmYWxzZTsgLy8gU2V0IGFjdGl2ZSBlbGVtZW50IHRvIGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYWN0aXZlSUQgPSBmYWxzZTsgLy8gU2V0IGFjdGl2ZSBlbGVtZW50IHRvIGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFNldCB0aGUgYWN0aXZlIGVsZW1lbnQgdG8gZmFsc2UKICAgICAgICB0aGlzLmFjdGl2ZUlEID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkRG93bmxvYWRzOiBmdW5jdGlvbiBsb2FkRG93bmxvYWRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwczovL2Rldi5jbGltYXRlc2NlbmFyaW9zLm9yZy9zZXR0aW5ncy9kb3dubG9hZHMuanNvbicpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuZG93bmxvYWRzID0gcmVzcG9uc2UuZGF0YS5kb3dubG9hZHM7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SensesDownload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,OAAA,GAAA,MAAA,KAAA;AACA,SAAA,GAAA,EAAA,GAAA,EAAA,QAAA,EAAA,IAAA,EAAA,IAAA,QAAA,QAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,cAAA;AACA,OAAA,UAAA,MAAA,kBAAA;AAEA,GAAA,CAAA,GAAA,CAAA,MAAA,E,CAEA;;AACA,IAAA,KAAA,GAAA,SAAA,KAAA,CAAA,CAAA,EAAA;AAAA,SAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,MAAA,GAAA,CAAA,GAAA,EAAA,GAAA,OAAA,CAAA;AAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,OAAA,CADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KADA;AAMA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,iBAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KANA;AAWA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,QADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA,CAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAXA;AAgBA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,oBAAA;AACA,eAAA,EAAA;AACA,OAJA;AAKA,MAAA,IAAA,EAAA;AALA;AAhBA,GALA;AA6BA,EAAA,IA7BA,kBA6BA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AACA;AACA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAlCA;AAmCA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA;AACA,aAAA,GAAA,CAAA,KAAA,SAAA,EAAA,IAAA,CAAA;AACA,KAJA;AAKA,IAAA,IALA,kBAKA;AACA;AACA,aAAA,IAAA,CAAA,KAAA,SAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAA;AAAA,OAAA,CAAA;AACA,KARA;AASA,IAAA,MATA,oBASA;AACA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,KAAA,IAAA,EAAA,SAAA,EAAA,EAAA,CAAA,CAAA;AACA,KAZA;AAaA,IAAA,SAbA,uBAaA;AACA;AACA,aAAA,GAAA,CAAA,KAAA,IAAA,EAAA,WAAA,CAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA,8BAiBA;AACA;AADA,UAEA,GAFA,GAEA,IAFA,CAEA,GAFA;AAAA,UAEA,QAFA,GAEA,IAFA,CAEA,QAFA;AAAA,UAEA,SAFA,GAEA,IAFA,CAEA,SAFA;;AAGA,UAAA,GAAA,IAAA,GAAA,CAAA,MAAA,EAAA;AACA,eAAA,GAAA,CAAA,GAAA,EAAA,UAAA,EAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,SAAA,EAAA;AAAA,YAAA,EAAA,EAAA;AAAA,WAAA,CAAA;AACA,cAAA,KAAA,GAAA,GAAA,CAAA,IAAA,EAAA,OAAA,EAAA,cAAA,CAAA;AACA,cAAA,QAAA,GAAA,EAAA,KAAA,QAAA;AACA;AACA,YAAA,EAAA,EAAA;AADA,aAEA,IAFA;AAGA,YAAA,KAAA,EAAA,KAHA;AAIA,YAAA,QAAA,EAAA;AAJA;AAMA,SAVA,CAAA;AAWA;;AACA,aAAA,EAAA;AACA;AAlCA,GAnCA;AAuEA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,CADA,EACA;AACA,UAAA,CAAA,EAAA;AACA,aAAA,SAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA;AANA,GAvEA;AA+EA,EAAA,OA/EA,qBA+EA;AACA;AACA,SAAA,aAAA;AACA,GAlFA;AAmFA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA,WAAA,QAAA,GAAA,KAAA,CAHA,CAIA;;AACA,WAAA,KAAA;AACA,KAPA;AAQA,IAAA,SARA,qBAQA,CARA,EAQA;AACA,UAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,KAAA,YAAA,EAAA,CAAA,CAAA,EAAA;AACA;AACA,eAAA,QAAA,GAAA,CAAA;AACA,SAHA,MAGA,IAAA,KAAA,GAAA,CAAA,MAAA,EAAA;AACA;AACA,cAAA,KAAA,GAAA,IAAA,CAAA,KAAA,GAAA,CAAA,CAFA,CAEA;;AACA,cAAA,QAAA,CAAA,KAAA,YAAA,EAAA,KAAA,CAAA,EAAA;AAAA;AACA,iBAAA,QAAA,GAAA,KAAA,CADA,CACA;AACA,WAFA,MAEA;AACA,iBAAA,QAAA,GAAA,KAAA,CADA,CACA;AACA;AACA,SARA,MAQA;AACA,eAAA,QAAA,GAAA,KAAA,CADA,CACA;AACA;AACA,OAfA,MAeA;AACA;AACA,aAAA,QAAA,GAAA,KAAA;AACA;AACA,KA5BA;AA6BA,IAAA,aA7BA,2BA6BA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,0DAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAHA;AAIA;AAlCA;AAnFA,CAAA","sourcesContent":["<template>\n  <modal\n    :scrollable=\"true\"\n    :width=\"800\"\n    @closed=\"closed\"\n    name=\"download\"\n    height=\"auto\"\n  >\n    <div class=\"page-download\">\n      <header class=\"download-header\">\n        <h1 class=\"mono\">\n          {{ title }}\n        </h1>\n        <span v-if=\"downloadElements.length\" class=\"caption\">Available downloads</span>\n        <ul v-if=\"downloadElements.length\" class=\"list\">\n          <li\n            v-for=\"element in downloadElements\"\n            :key=\"element.id\"\n            :class=\"{ isActive: element.isActive, clickable: !element.isActive }\"\n            @click=\"() => setActive(element.id)\"\n          >\n            {{ element.label }}\n          </li>\n        </ul>\n        <span v-else>No downloads available for this module</span>\n      </header>\n      <div v-if=\"activeID && item\" class=\"download-content\">\n        <div class=\"download-download\">\n          <h2>{{ item.label }}</h2>\n          <div>\n            <a :href=\"item.link\" class=\"btn btn--action\">Download</a>\n          </div>\n          <p class=\"description\">\n            {{ item.description }}\n          </p>\n        </div>\n        <dl class=\"download-details\">\n          <dt class=\"caption\">\n            Preview\n          </dt>\n          <dd class=\"gallery\">\n            <ul class=\"previews\">\n              <li\n                v-for=\"(element, i) in item.previews\"\n                :key=\"i\"\n                class=\"preview\">\n                <img :src=\"`/previews/${element}`\">\n              </li>\n            </ul>\n          </dd>\n          <dt class=\"caption\">\n            Authors\n          </dt>\n          <dd>{{ author }}</dd>\n          <dt v-if=\"reference\" class=\"caption\">\n            Reference\n          </dt>\n          <dd v-if=\"reference\">\n            <SensesCopy :content=\"item.reference\" />\n          </dd>\n          <dt v-if=\"reference\" class=\"caption\">\n            URL\n          </dt>\n          <dd v-if=\"reference\">\n            <SensesCopy content=\"https://climatescenarios.org/#primerdownloads\" />\n          </dd>\n          <dt class=\"caption\">\n            Licence\n          </dt>\n          <dd>{{ item.licence }}</dd>\n        </dl>\n        <footer class=\"download-footer\">\n          <strong>You are free to</strong>\n          <ul>\n            <li>Copy and redistribute the material in any medium or format</li>\n            <li>Remix, transform, and build upon the material for any purpose, even commercially</li>\n          </ul>\n          <strong>Under the following terms</strong>\n          <ul>\n            <li>You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</li>\n            <li>If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</li>\n            <li>You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.</li>\n          </ul>\n        </footer>\n        <span @click=\"closed\" class=\"close\">&times;</span>\n      </div>\n      <div v-else class=\"download-error\">\n        <h2>Download can not be found</h2>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { get, map, includes, head, find } from 'lodash'\nimport axios from 'axios'\nimport VModal from 'vue-js-modal'\nimport SensesCopy from './SensesCopy.vue'\n\nVue.use(VModal)\n\n// Function to make sentence from author array\nconst chain = (a) => { return [a.slice(0, -1).join(', '), a.slice(-1)[0]].join(a.length < 2 ? '' : ' and ') }\n\nexport default {\n  name: 'SensesDownload',\n  components: {\n    SensesCopy\n  },\n  props: {\n    selected: { // The id of the currently selected download. This will be checked again\n      type: [Number, Boolean],\n      default: false,\n      docs: 'The currently selected download id'\n    },\n    title: {\n      type: String,\n      default: 'Untitled module',\n      docs: 'Title of the module'\n    },\n    close: {\n      type: Function,\n      default: () => {},\n      docs: 'Function that is called once the window closes'\n    },\n    ids: {\n      type: Array,\n      default: () => {\n        return []\n      },\n      docs: 'List of ids of downloads for this module'\n    }\n  },\n  data () {\n    return {\n      downloads: [], // A list of downloads fetched from external JSON file\n      activeID: false\n    }\n  },\n  computed: {\n    availableIDS () {\n      // Get a list of available download ids\n      return map(this.downloads, 'id')\n    },\n    item () {\n      // Find the download item in the list of downloads from the id\n      return find(this.downloads, { id: this.activeID })\n    },\n    author () {\n      // Extract the authors for this download\n      return chain(get(this.item, 'authors', []))\n    },\n    reference () {\n      // Extract the reference for this download\n      return get(this.item, 'reference')\n    },\n    downloadElements () {\n      // Create a list of download items for this module\n      const { ids, activeID, downloads } = this\n      if (ids && ids.length) {\n        return map(ids, (id) => {\n          const item = find(downloads, { id })\n          const label = get(item, 'label', 'unnamed item')\n          const isActive = id === activeID\n          return {\n            id,\n            ...item,\n            label,\n            isActive\n          }\n        })\n      }\n      return []\n    }\n  },\n  watch: {\n    selected (v) {\n      if (v) {\n        this.setActive(v)\n        this.$modal.show('download')\n      }\n    }\n  },\n  mounted () {\n    // Load the list of downloads\n    this.loadDownloads()\n  },\n  methods: {\n    closed () {\n      // Triggered when the close button is clicked or the outer area\n      this.$modal.hide('download')\n      this.activeID = false\n      // Exceute the function passed to the component\n      this.close()\n    },\n    setActive (v) {\n      if (v) {\n        if (includes(this.availableIDS, v)) {\n          // The id is present in the list of downloads\n          this.activeID = v\n        } else if (this.ids.length) {\n          // The module has a list of downloads\n          const first = head(this.ids) // Get the first in the list\n          if (includes(this.availableIDS, first)) { // Check again if id present\n            this.activeID = first // Select the first one\n          } else {\n            this.activeID = false // Set active element to false\n          }\n        } else {\n          this.activeID = false // Set active element to false\n        }\n      } else {\n        // Set the active element to false\n        this.activeID = false\n      }\n    },\n    loadDownloads () {\n      axios.get('https://dev.climatescenarios.org/settings/downloads.json')\n        .then((response) => {\n          this.downloads = response.data.downloads\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../style/global.scss\";\n\n.page-download {\n  // margin: $spacing;\n  display: grid;\n  grid-row-gap: $spacing;\n  position: relative;\n  z-index: 10;\n\n  .download-download, .download-details {\n    margin: $spacing;\n    margin-bottom: 0;\n    margin-top: 0;\n  }\n\n  .download-download {\n    display: grid;\n    align-items: center;\n    grid-template-columns: 2fr 1fr;\n    grid-column-gap: $spacing;\n    grid-row-gap: $spacing;\n\n    .description {\n      grid-column-end: span 2;\n    }\n  }\n\n  .download-header {\n    // background-color: $color-neon;\n    padding: $spacing;\n    // color: #fff;\n    border-bottom: 1px solid getColor(gray, 80);\n\n    h1 {\n      font-size: 2.3rem;\n      font-style: italic;\n      line-height: 1;\n      letter-spacing: -0.02em;\n      margin-bottom: $spacing / 2;\n    }\n\n    .caption {\n      color: rgba(#000, 0.7);\n    }\n\n    .list {\n      margin-top: $spacing / 4;\n      list-style: none;\n\n      li {\n        padding: 0.2em 1em 0.2em 1.6em;\n        list-style-position: inside;\n        text-indent: -1.6em;\n        line-height: 1.5em;\n        color: $color-neon;\n\n        &:hover, &:hover {\n          color: getColor(neon, 40);\n        }\n\n        &.isActive {\n          color: #000;\n        }\n\n        &:before {\n          content: \"— \";\n          color: getColor(gray, 80);\n          margin-right: 0.3em;\n        }\n      }\n    }\n  }\n\n  .download-footer {\n    border-top: 1px solid getColor(gray, 80);\n    padding: $spacing;\n\n    ul {\n      font-size: 0.8rem;\n    }\n\n    strong {\n      font-size: 0.9rem;\n    }\n\n    ul {\n      margin-left: $spacing;\n      margin-bottom: $spacing / 2;\n    }\n\n    .btn {\n      margin-top: $spacing;\n    }\n\n    dl {\n      margin-bottom: $spacing / 2;\n    }\n  }\n\n  .close {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 1.5rem;\n    display: inline-block;\n    color: $color-neon;\n    cursor: pointer;\n    speak: none;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1em;\n    margin-top: $spacing / 3;\n    margin-right: $spacing / 2;\n\n    &:hover {\n      color: #000;\n    }\n  }\n\n  .download-error {\n    @include center();\n    margin-bottom: $spacing;\n  }\n\n  .download-details {\n    dd {\n      margin-bottom: $spacing / 2;\n\n      &:last-of-type {\n        margin-bottom: 0;\n      }\n    }\n  }\n\n  .gallery {\n    position: relative;\n    height: 200px;\n  }\n\n  .previews {\n    width: 100%;\n    overflow-y: scroll;\n    display: flex;\n    flex-direction: row;\n    list-style: none;\n    position: absolute;\n\n    .preview {\n      height: 200px;\n      padding: $spacing / 4;\n\n      img {\n        height: 100%;\n        width: auto;\n        box-shadow: $box-shadow--default;\n      }\n    }\n  }\n}\n\n</style>\n"],"sourceRoot":"node_modules/library/src/components"}]}