{"remainingRequest":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/policy-portal/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/policy-portal/src/App.vue","mtime":1581957876631},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvZnJhbmNlc2NhbW9yaW5pL3Byb2plY3RzL3BvbGljeS1wb3J0YWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNlbnNlc01lbnUgZnJvbSAibGlicmFyeS9zcmMvY29tcG9uZW50cy9TZW5zZXNNZW51LnZ1ZSI7CmltcG9ydCBJdGVtIGZyb20gIi4vY29tcG9uZW50cy9JdGVtLnZ1ZSI7CmltcG9ydCBIb21lIGZyb20gIi4vY29tcG9uZW50cy9Ib21lLnZ1ZSI7CmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gIi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uLnZ1ZSI7CmltcG9ydCBOYXZpZ2F0aW9uTW9iaWxlIGZyb20gIi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uTW9iaWxlLnZ1ZSI7CmltcG9ydCBFbmQgZnJvbSAiLi9jb21wb25lbnRzL0VuZC52dWUiOwppbXBvcnQgQmFja2dyb3VuZExpbmUgZnJvbSAiLi9jb21wb25lbnRzL0JhY2tncm91bmRMaW5lLnZ1ZSI7CmltcG9ydCBBbmltYXRlZFN2ZyBmcm9tICIuL2NvbXBvbmVudHMvQW5pbWF0ZWRTdmcudnVlIjsKaW1wb3J0IE1vZHVsZVRleHQgZnJvbSAiLi9jb21wb25lbnRzL01vZHVsZVRleHQudnVlIjsKaW1wb3J0IEVhcnRoIGZyb20gIi4vY29tcG9uZW50cy9FYXJ0aC52dWUiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwp2YXIgdGlja2luZyA9IGZhbHNlOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFwcCIsCiAgY29tcG9uZW50czogewogICAgSG9tZTogSG9tZSwKICAgIE5hdmlnYXRpb246IE5hdmlnYXRpb24sCiAgICBFbmQ6IEVuZCwKICAgIEl0ZW06IEl0ZW0sCiAgICBBbmltYXRlZFN2ZzogQW5pbWF0ZWRTdmcsCiAgICBNb2R1bGVUZXh0OiBNb2R1bGVUZXh0LAogICAgRWFydGg6IEVhcnRoLAogICAgQmFja2dyb3VuZExpbmU6IEJhY2tncm91bmRMaW5lLAogICAgU2Vuc2VzTWVudTogU2Vuc2VzTWVudSwKICAgIE5hdmlnYXRpb25Nb2JpbGU6IE5hdmlnYXRpb25Nb2JpbGUKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbImlzTW9iaWxlIiwgImFjdGl2ZVBvcnRhbCIsICJyZWZsb3dUaW1lIl0pLCB7fSwgbWFwR2V0dGVycyhbIm1vZHVsZXNEYXRhIl0pKSwKICBtZXRob2RzOiB7CiAgICBnZXRTdmdQYXRoOiBmdW5jdGlvbiBnZXRTdmdQYXRoKHBhdGgpIHsKICAgICAgdmFyIHAgPSB0aGlzLmlzTW9iaWxlID8gIm1vYmlsZS8iIDogImRlc2t0b3AvIjsKICAgICAgcmV0dXJuIHAgKyBwYXRoICsgIi5zdmciOwogICAgfSwKICAgIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRpY2tpbmcpIHsKICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5zY3JvbGxZID0gd2luZG93LnNjcm9sbFk7CiAgICAgICAgICB0aWNraW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdGlja2luZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByZWZsb3c6IGZ1bmN0aW9uIHJlZmxvdyhlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaXNNb2JpbGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IDcwMDsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucmVmbG93VGltZSA9IERhdGUubm93KCk7CgogICAgICBpZiAoZS50eXBlID09PSAibG9hZCIpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi4kc3RvcmUuc3RhdGUuYWN0aXZlUG9ydGFsUGF0aCA9ICJpbnRybyI7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQogICAgfSwKICAgIGhhc2hjaGFuZ2U6IGZ1bmN0aW9uIGhhc2hjaGFuZ2UoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2F0aW9uLmhhc2gpCiAgICAgIHZhciB0b3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsb2NhdGlvbi5oYXNoLnJlcGxhY2UoIiMvIiwgInRvLSIpKS5vZmZzZXRUb3AgKyAxMDsKICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICB0b3A6IHRvcCwKICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy5tb2R1bGVzRGF0YSk7IC8vIHRoaXMubW9kdWxlc0RhdGEuZm9yRWFjaChkID0+IGNvbnNvbGUubG9nKGQucGF0aCkpOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcy5yZWZsb3cpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMucmVmbG93KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgdGhpcy5oYXNoY2hhbmdlKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5vblNjcm9sbCk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMucmVmbG93KTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnJlZmxvdyk7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsIHRoaXMuaGFzaGNoYW5nZSk7CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\" ref=\"app\">\n    <SensesMenu />\n    <Navigation v-if=\"!isMobile\" />\n    <NavigationMobile v-if=\"isMobile\" /> \n    <!-- <BackgroundLine /> -->\n    <Item v-for=\"data in modulesData\" v-bind:key=\"data.path + '-' + reflowTime\" :data=\"data\" :id=\"'to-' + data.path\">\n      <template v-slot:figure=\"props\">\n        <Home v-if=\"props.data.path === 'intro'\" :mobile=\"isMobile\"  />\n        <Earth v-else-if=\"props.data.path === 'earth'\" :ratio=\"props.ratio\" :mobile=\"isMobile\" />\n        <End v-else-if=\"props.data.path === 'end'\" :mobile=\"isMobile\" />\n        <div v-else>\n          <ModuleText :data=\"props.data\" :ratio=\"props.ratio\" :mobile=\"isMobile\" />\n          <AnimatedSvg :ratio=\"props.ratio\" :svg=\"getSvgPath(props.data.path)\"/>\n        </div>\n      </template>\n    </Item>\n  </div>\n</template>\n\n<script>\nimport SensesMenu from \"library/src/components/SensesMenu.vue\";\nimport Item from \"./components/Item.vue\";\nimport Home from \"./components/Home.vue\";\nimport Navigation from \"./components/Navigation.vue\";\nimport NavigationMobile from \"./components/NavigationMobile.vue\";\nimport End from \"./components/End.vue\";\nimport BackgroundLine from \"./components/BackgroundLine.vue\";\nimport AnimatedSvg from \"./components/AnimatedSvg.vue\";\nimport ModuleText from \"./components/ModuleText.vue\";\nimport Earth from \"./components/Earth.vue\";\nimport { mapState, mapGetters } from \"vuex\";\n\nlet ticking = false;\n\nexport default {\n  name: \"app\",\n  components: {\n    Home,\n    Navigation,\n    End,\n    Item,\n    AnimatedSvg,\n    ModuleText,\n    Earth,\n    BackgroundLine,\n    SensesMenu,\n    NavigationMobile\n  },\n  computed: {\n    ...mapState([\"isMobile\", \"activePortal\", \"reflowTime\"]),\n    ...mapGetters([\"modulesData\"])\n  },\n  methods: {\n    getSvgPath: function(path) {\n      const p = this.isMobile ? \"mobile/\" : \"desktop/\";\n      return p + path + \".svg\";\n    },\n    onScroll: function(e) {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          this.$store.state.scrollY = window.scrollY;\n          ticking = false;\n        });\n        ticking = true;\n      }\n    },\n    reflow: function(e) {\n      this.$store.state.isMobile = window.innerWidth < 700;\n      this.$store.state.reflowTime = Date.now()\n      if (e.type === \"load\") {\n        setTimeout(() => {\n          this.$store.state.activePortalPath = \"intro\";\n        }, 100);\n      }\n    },\n    hashchange: function(){\n      // console.log(location.hash)\n      const top = document\n        .getElementById(location.hash.replace(\"#/\", \"to-\"))\n        .offsetTop + 10\n\n      window.scrollTo({\n        top: top,\n        behavior: 'smooth',\n      })\n    }\n  },\n  mounted: function() {\n    console.log(this.modulesData);\n    // this.modulesData.forEach(d => console.log(d.path));\n    window.addEventListener(\"scroll\", this.onScroll);\n    window.addEventListener(\"load\", this.reflow);\n    window.addEventListener(\"resize\", this.reflow);\n    window.addEventListener(\"hashchange\", this.hashchange);\n  },\n  beforeDestroy: function() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    window.removeEventListener(\"load\", this.reflow);\n    window.removeEventListener(\"resize\", this.reflow);\n    window.removeEventListener(\"hashchange\", this.hashchange);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n// @import url(\"https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,700i|IBM+Plex+Sans|IBM+Plex+Sans+Condensed|IBM+Plex+Serif&display=swap\");\n@import \"library/src/style/base.scss\";\n\n* {\n  box-sizing: border-box;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}\n\n#app {\n  font-family: \"IBM Plex Sans\", sans-serif;\n}\n\nsvg text {\n  font-size: 0.6em;\n}\n</style>\n"],"sourceRoot":"src"}]}