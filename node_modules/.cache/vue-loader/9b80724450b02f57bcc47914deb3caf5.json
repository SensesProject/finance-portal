{"remainingRequest":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/policy-portal/src/App.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/francescamorini/projects/policy-portal/src/App.vue","mtime":1581957876631},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/sass-loader/dist/cjs.js","mtime":1578394287199},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8vIEBpbXBvcnQgdXJsKCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9SUJNK1BsZXgrTW9ubzo0MDAsNzAwaXxJQk0rUGxleCtTYW5zfElCTStQbGV4K1NhbnMrQ29uZGVuc2VkfElCTStQbGV4K1NlcmlmJmRpc3BsYXk9c3dhcCIpOwpAaW1wb3J0ICJsaWJyYXJ5L3NyYy9zdHlsZS9iYXNlLnNjc3MiOwoKKiB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKaHRtbCB7CiAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7Cn0KCiNhcHAgewogIGZvbnQtZmFtaWx5OiAiSUJNIFBsZXggU2FucyIsIHNhbnMtc2VyaWY7Cn0KCnN2ZyB0ZXh0IHsKICBmb250LXNpemU6IDAuNmVtOwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" ref=\"app\">\n    <SensesMenu />\n    <Navigation v-if=\"!isMobile\" />\n    <NavigationMobile v-if=\"isMobile\" /> \n    <!-- <BackgroundLine /> -->\n    <Item v-for=\"data in modulesData\" v-bind:key=\"data.path + '-' + reflowTime\" :data=\"data\" :id=\"'to-' + data.path\">\n      <template v-slot:figure=\"props\">\n        <Home v-if=\"props.data.path === 'intro'\" :mobile=\"isMobile\"  />\n        <Earth v-else-if=\"props.data.path === 'earth'\" :ratio=\"props.ratio\" :mobile=\"isMobile\" />\n        <End v-else-if=\"props.data.path === 'end'\" :mobile=\"isMobile\" />\n        <div v-else>\n          <ModuleText :data=\"props.data\" :ratio=\"props.ratio\" :mobile=\"isMobile\" />\n          <AnimatedSvg :ratio=\"props.ratio\" :svg=\"getSvgPath(props.data.path)\"/>\n        </div>\n      </template>\n    </Item>\n  </div>\n</template>\n\n<script>\nimport SensesMenu from \"library/src/components/SensesMenu.vue\";\nimport Item from \"./components/Item.vue\";\nimport Home from \"./components/Home.vue\";\nimport Navigation from \"./components/Navigation.vue\";\nimport NavigationMobile from \"./components/NavigationMobile.vue\";\nimport End from \"./components/End.vue\";\nimport BackgroundLine from \"./components/BackgroundLine.vue\";\nimport AnimatedSvg from \"./components/AnimatedSvg.vue\";\nimport ModuleText from \"./components/ModuleText.vue\";\nimport Earth from \"./components/Earth.vue\";\nimport { mapState, mapGetters } from \"vuex\";\n\nlet ticking = false;\n\nexport default {\n  name: \"app\",\n  components: {\n    Home,\n    Navigation,\n    End,\n    Item,\n    AnimatedSvg,\n    ModuleText,\n    Earth,\n    BackgroundLine,\n    SensesMenu,\n    NavigationMobile\n  },\n  computed: {\n    ...mapState([\"isMobile\", \"activePortal\", \"reflowTime\"]),\n    ...mapGetters([\"modulesData\"])\n  },\n  methods: {\n    getSvgPath: function(path) {\n      const p = this.isMobile ? \"mobile/\" : \"desktop/\";\n      return p + path + \".svg\";\n    },\n    onScroll: function(e) {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          this.$store.state.scrollY = window.scrollY;\n          ticking = false;\n        });\n        ticking = true;\n      }\n    },\n    reflow: function(e) {\n      this.$store.state.isMobile = window.innerWidth < 700;\n      this.$store.state.reflowTime = Date.now()\n      if (e.type === \"load\") {\n        setTimeout(() => {\n          this.$store.state.activePortalPath = \"intro\";\n        }, 100);\n      }\n    },\n    hashchange: function(){\n      // console.log(location.hash)\n      const top = document\n        .getElementById(location.hash.replace(\"#/\", \"to-\"))\n        .offsetTop + 10\n\n      window.scrollTo({\n        top: top,\n        behavior: 'smooth',\n      })\n    }\n  },\n  mounted: function() {\n    console.log(this.modulesData);\n    // this.modulesData.forEach(d => console.log(d.path));\n    window.addEventListener(\"scroll\", this.onScroll);\n    window.addEventListener(\"load\", this.reflow);\n    window.addEventListener(\"resize\", this.reflow);\n    window.addEventListener(\"hashchange\", this.hashchange);\n  },\n  beforeDestroy: function() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    window.removeEventListener(\"load\", this.reflow);\n    window.removeEventListener(\"resize\", this.reflow);\n    window.removeEventListener(\"hashchange\", this.hashchange);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n// @import url(\"https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,700i|IBM+Plex+Sans|IBM+Plex+Sans+Condensed|IBM+Plex+Serif&display=swap\");\n@import \"library/src/style/base.scss\";\n\n* {\n  box-sizing: border-box;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}\n\n#app {\n  font-family: \"IBM Plex Sans\", sans-serif;\n}\n\nsvg text {\n  font-size: 0.6em;\n}\n</style>\n"]}]}