{"remainingRequest":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/policy-portal/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/policy-portal/src/App.vue","mtime":1582621677659},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/policy-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZW5zZXNNZW51IGZyb20gImxpYnJhcnkvc3JjL2NvbXBvbmVudHMvU2Vuc2VzTWVudS52dWUiOwppbXBvcnQgU2Vuc2VzRG93bmxvYWQgZnJvbSAnbGlicmFyeS9zcmMvY29tcG9uZW50cy9TZW5zZXNEb3dubG9hZC52dWUnCmltcG9ydCBJdGVtIGZyb20gIi4vY29tcG9uZW50cy9JdGVtLnZ1ZSI7CmltcG9ydCBIb21lIGZyb20gIi4vY29tcG9uZW50cy9Ib21lLnZ1ZSI7CmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gIi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uLnZ1ZSI7CmltcG9ydCBOYXZpZ2F0aW9uTW9iaWxlIGZyb20gIi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uTW9iaWxlLnZ1ZSI7CmltcG9ydCBFbmQgZnJvbSAiLi9jb21wb25lbnRzL0VuZC52dWUiOwppbXBvcnQgQmFja2dyb3VuZExpbmUgZnJvbSAiLi9jb21wb25lbnRzL0JhY2tncm91bmRMaW5lLnZ1ZSI7CmltcG9ydCBBbmltYXRlZFN2ZyBmcm9tICIuL2NvbXBvbmVudHMvQW5pbWF0ZWRTdmcudnVlIjsKaW1wb3J0IE1vZHVsZVRleHQgZnJvbSAiLi9jb21wb25lbnRzL01vZHVsZVRleHQudnVlIjsKaW1wb3J0IEVhcnRoIGZyb20gIi4vY29tcG9uZW50cy9FYXJ0aC52dWUiOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwoKbGV0IHRpY2tpbmcgPSBmYWxzZTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBIb21lLAogICAgTmF2aWdhdGlvbiwKICAgIEVuZCwKICAgIEl0ZW0sCiAgICBBbmltYXRlZFN2ZywKICAgIE1vZHVsZVRleHQsCiAgICBFYXJ0aCwKICAgIEJhY2tncm91bmRMaW5lLAogICAgU2Vuc2VzTWVudSwKICAgIE5hdmlnYXRpb25Nb2JpbGUsCiAgICBTZW5zZXNEb3dubG9hZAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IGZhbHNlLAogICAgICBzZWxlY3RlZDogW10sCiAgICAgIGlkczogJycsCiAgICAgIHRpdGxlOiAnJywKICAgICAgY2xvc2U6ICcnCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyJpc01vYmlsZSIsICJhY3RpdmVQb3J0YWwiLCAicmVmbG93VGltZSJdKSwKICAgIC4uLm1hcEdldHRlcnMoWyJtb2R1bGVzRGF0YSJdKQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U3ZnUGF0aDogZnVuY3Rpb24ocGF0aCkgewogICAgICBjb25zdCBwID0gdGhpcy5pc01vYmlsZSA/ICJtb2JpbGUvIiA6ICJkZXNrdG9wLyI7CiAgICAgIHJldHVybiBwICsgcGF0aCArICIuc3ZnIjsKICAgIH0sCiAgICBvblNjcm9sbDogZnVuY3Rpb24oZSkgewogICAgICBpZiAoIXRpY2tpbmcpIHsKICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICB0aWNraW5nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHJlZmxvdzogZnVuY3Rpb24oZSkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5pc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzAwOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yZWZsb3dUaW1lID0gRGF0ZS5ub3coKQogICAgICBpZiAoZS50eXBlID09PSAibG9hZCIpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBvcnRhbFBhdGggPSAiaW50cm8iOwogICAgICAgIH0sIDEwMCk7CiAgICAgIH0KICAgIH0sCiAgICBoYXNoY2hhbmdlOiBmdW5jdGlvbigpewogICAgICAvLyBjb25zb2xlLmxvZyhsb2NhdGlvbi5oYXNoKQogICAgICBjb25zdCB0b3AgPSBkb2N1bWVudAogICAgICAgIC5nZXRFbGVtZW50QnlJZChsb2NhdGlvbi5oYXNoLnJlcGxhY2UoIiMvIiwgInRvLSIpKQogICAgICAgIC5vZmZzZXRUb3AgKyAxMAoKICAgICAgd2luZG93LnNjcm9sbFRvKHsKICAgICAgICB0b3A6IHRvcCwKICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsCiAgICAgIH0pCiAgICB9LAogICAgdXBkYXRlQWN0aXZlIChpZCwgZG93bmxvYWRJRHMsIHRpdGxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGlkLCBkb3dubG9hZElEcywgdGl0bGUpCiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpZAogICAgICB0aGlzLmlkcyA9IGRvd25sb2FkSURzCiAgICAgIHRoaXMudGl0bGUgPSB0aXRsZQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24oKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLnVwZGF0ZUFjdGl2ZSkKICAgIGNvbnNvbGUubG9nKHRoaXMubW9kdWxlc0RhdGEpOwogICAgLy8gdGhpcy5tb2R1bGVzRGF0YS5mb3JFYWNoKGQgPT4gY29uc29sZS5sb2coZC5wYXRoKSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5vblNjcm9sbCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMucmVmbG93KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnJlZmxvdyk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsIHRoaXMuaGFzaGNoYW5nZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcy5yZWZsb3cpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMucmVmbG93KTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgdGhpcy5oYXNoY2hhbmdlKTsKICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" ref=\"app\">\n    <SensesMenu />\n    <Navigation v-if=\"!isMobile\" />\n    <NavigationMobile v-if=\"isMobile\" />\n    <SensesDownload\n      :selected=\"selected\"\n      :ids=\"ids\"\n      :title=\"title\"\n      :close=\"close\" />\n    <!-- <BackgroundLine /> -->\n    <Item v-for=\"data in modulesData\" v-bind:key=\"data.path + '-' + reflowTime\" :data=\"data\" :id=\"'to-' + data.path\">\n      <template v-slot:figure=\"props\">\n        <Home v-if=\"props.data.path === 'intro'\" :mobile=\"isMobile\"  />\n        <Earth v-else-if=\"props.data.path === 'earth'\" :ratio=\"props.ratio\" :mobile=\"isMobile\" />\n        <End v-else-if=\"props.data.path === 'end'\" :mobile=\"isMobile\" />\n        <div v-else>\n          <ModuleText :data=\"props.data\" :ratio=\"props.ratio\" :mobile=\"isMobile\" :active=\"active\" @update:active=\"updateActive\"/>\n          <AnimatedSvg :ratio=\"props.ratio\" :svg=\"getSvgPath(props.data.path)\"/>\n        </div>\n      </template>\n    </Item>\n  </div>\n</template>\n\n<script>\nimport SensesMenu from \"library/src/components/SensesMenu.vue\";\nimport SensesDownload from 'library/src/components/SensesDownload.vue'\nimport Item from \"./components/Item.vue\";\nimport Home from \"./components/Home.vue\";\nimport Navigation from \"./components/Navigation.vue\";\nimport NavigationMobile from \"./components/NavigationMobile.vue\";\nimport End from \"./components/End.vue\";\nimport BackgroundLine from \"./components/BackgroundLine.vue\";\nimport AnimatedSvg from \"./components/AnimatedSvg.vue\";\nimport ModuleText from \"./components/ModuleText.vue\";\nimport Earth from \"./components/Earth.vue\";\nimport { mapState, mapGetters } from \"vuex\";\n\nlet ticking = false;\n\nexport default {\n  name: \"app\",\n  components: {\n    Home,\n    Navigation,\n    End,\n    Item,\n    AnimatedSvg,\n    ModuleText,\n    Earth,\n    BackgroundLine,\n    SensesMenu,\n    NavigationMobile,\n    SensesDownload\n  },\n  data () {\n    return {\n      active: false,\n      selected: [],\n      ids: '',\n      title: '',\n      close: ''\n    }\n  },\n  computed: {\n    ...mapState([\"isMobile\", \"activePortal\", \"reflowTime\"]),\n    ...mapGetters([\"modulesData\"])\n  },\n  methods: {\n    getSvgPath: function(path) {\n      const p = this.isMobile ? \"mobile/\" : \"desktop/\";\n      return p + path + \".svg\";\n    },\n    onScroll: function(e) {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          this.$store.state.scrollY = window.scrollY;\n          ticking = false;\n        });\n        ticking = true;\n      }\n    },\n    reflow: function(e) {\n      this.$store.state.isMobile = window.innerWidth < 700;\n      this.$store.state.reflowTime = Date.now()\n      if (e.type === \"load\") {\n        setTimeout(() => {\n          this.$store.state.activePortalPath = \"intro\";\n        }, 100);\n      }\n    },\n    hashchange: function(){\n      // console.log(location.hash)\n      const top = document\n        .getElementById(location.hash.replace(\"#/\", \"to-\"))\n        .offsetTop + 10\n\n      window.scrollTo({\n        top: top,\n        behavior: 'smooth',\n      })\n    },\n    updateActive (id, downloadIDs, title) {\n      console.log(id, downloadIDs, title)\n      this.selected = id\n      this.ids = downloadIDs\n      this.title = title\n    }\n  },\n  mounted: function() {\n    console.log(this.updateActive)\n    console.log(this.modulesData);\n    // this.modulesData.forEach(d => console.log(d.path));\n    window.addEventListener(\"scroll\", this.onScroll);\n    window.addEventListener(\"load\", this.reflow);\n    window.addEventListener(\"resize\", this.reflow);\n    window.addEventListener(\"hashchange\", this.hashchange);\n  },\n  beforeDestroy: function() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n    window.removeEventListener(\"load\", this.reflow);\n    window.removeEventListener(\"resize\", this.reflow);\n    window.removeEventListener(\"hashchange\", this.hashchange);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n// @import url(\"https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,700i|IBM+Plex+Sans|IBM+Plex+Sans+Condensed|IBM+Plex+Serif&display=swap\");\n@import \"library/src/style/base.scss\";\n\n* {\n  box-sizing: border-box;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}\n\n#app {\n  font-family: \"IBM Plex Sans\", sans-serif;\n}\n\nsvg text {\n  font-size: 0.6em;\n}\n</style>\n"]}]}